<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HTML/CSS to Design</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f5f5f7;
      padding: 16px;
      height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
      overflow: hidden;
    }

    .container {
      display: flex;
      flex-direction: column;
      height: 100%;
      gap: 12px;
      overflow: auto;
    }

    h1 {
      font-size: 18px;
      font-weight: 600;
      color: #1a1a1a;
      margin-bottom: 8px;
    }

    .input-section {
      flex: 1;
      min-height: 120px;
      display: flex;
      flex-direction: column;
      background: white;
      border-radius: 8px;
      padding: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      overflow: hidden;
    }

    .input-label {
      font-size: 13px;
      font-weight: 500;
      color: #666;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .code-icon {
      width: 16px;
      height: 16px;
      display: inline-block;
    }

    textarea {
      flex: 1;
      width: 100%;
      padding: 10px;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
      font-size: 12px;
      line-height: 1.5;
      resize: none;
      background: #fafafa;
      transition: all 0.2s ease;
    }

    textarea:focus {
      outline: none;
      border-color: #5E5CE6;
      background: white;
      box-shadow: 0 0 0 3px rgba(94, 92, 230, 0.1);
    }

    .button-container {
      display: flex;
      gap: 8px;
      padding-top: 4px;
    }

    button {
      padding: 10px 20px;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      border: none;
    }

    .generate-btn {
      flex: 1;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .generate-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .generate-btn:active {
      transform: translateY(0);
    }

    .view-btn {
      flex: 1;
      background: linear-gradient(135deg, #00c9ff 0%, #92fe9d 100%);
      color: white;
    }

    .view-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0, 201, 255, 0.4);
    }

    .view-btn:active {
      transform: translateY(0);
    }

    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none !important;
    }

    .message {
      margin-top: 8px;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 12px;
      display: none;
    }

    .message.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
      display: block;
    }

    .message.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
      display: block;
    }

    .examples {
      margin-top: 8px;
      padding-top: 8px;
      border-top: 1px solid #e0e0e0;
      flex-shrink: 0;
    }

    .example-title {
      font-size: 11px;
      color: #999;
      margin-bottom: 4px;
    }

    .example-link {
      font-size: 11px;
      color: #5E5CE6;
      cursor: pointer;
      text-decoration: none;
      margin-right: 12px;
      display: inline-block;
    }

    .example-link:hover {
      text-decoration: underline;
    }

    .shortcuts-hint {
      font-size: 10px;
      color: #999;
      text-align: center;
      margin-top: 4px;
      flex-shrink: 0;
    }

    body.compact .shortcuts-hint {
      font-size: 9px;
      margin-top: 2px;
    }

    .shortcut-key {
      background: rgba(0, 0, 0, 0.08);
      padding: 2px 4px;
      border-radius: 3px;
      font-family: monospace;
    }

    /* Loading animation */
    .loading {
      display: none;
      justify-content: center;
      align-items: center;
      padding: 8px;
      flex-shrink: 0;
    }

    .loading.active {
      display: flex;
    }

    body.compact .loading {
      padding: 4px;
    }

    .spinner {
      width: 20px;
      height: 20px;
      border: 2px solid #e0e0e0;
      border-top-color: #5E5CE6;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Preview Modal Styles */
    .preview-modal {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      z-index: 1000;
      animation: fadeIn 0.3s ease;
    }

    .preview-modal.active {
      display: flex;
      flex-direction: column;
    }

    .preview-header {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      padding: 12px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .preview-title {
      color: white;
      font-size: 14px;
      font-weight: 600;
    }

    .close-preview {
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
      transition: background 0.2s ease;
    }

    .close-preview:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .preview-content {
      flex: 1;
      overflow: auto;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .preview-frame {
      background: white;
      border-radius: 8px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      width: 100%;
      height: 100%;
      max-width: 90%;
      max-height: 90%;
      overflow: auto;
      position: relative;
    }

    #preview-iframe {
      width: 100%;
      height: 100%;
      border: none;
      border-radius: 8px;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .preview-controls {
      position: absolute;
      top: 10px;
      right: 10px;
      display: flex;
      gap: 8px;
      background: rgba(255, 255, 255, 0.95);
      padding: 8px;
      border-radius: 6px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .preview-size-btn {
      padding: 6px 10px;
      background: #f0f0f0;
      border: none;
      border-radius: 4px;
      font-size: 11px;
      cursor: pointer;
      transition: background 0.2s ease;
    }

    .preview-size-btn:hover {
      background: #e0e0e0;
    }

    .preview-size-btn.active {
      background: #5E5CE6;
      color: white;
    }

    /* Resize indicator */
    .resize-handle {
      position: absolute;
      bottom: 0;
      right: 0;
      width: 20px;
      height: 20px;
      cursor: se-resize;
      opacity: 0.3;
      transition: opacity 0.2s ease;
    }

    .resize-handle:hover {
      opacity: 0.6;
    }

    .resize-handle::before {
      content: '';
      position: absolute;
      bottom: 3px;
      right: 3px;
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 0 0 10px 10px;
      border-color: transparent transparent #999 transparent;
    }

    /* Responsive adjustments for smaller windows */
    @media (max-height: 500px) {
      h1 {
        font-size: 16px;
        margin-bottom: 6px;
      }
      
      .input-section {
        min-height: 80px;
        padding: 8px;
      }
      
      .button-container {
        padding-top: 2px;
      }
      
      button {
        padding: 8px 16px;
        font-size: 12px;
      }
    }

    @media (max-width: 400px) {
      body {
        padding: 12px;
      }
      
      .input-label {
        font-size: 12px;
      }
      
      .container {
        gap: 8px;
      }
    }

    /* Scrollbar styling */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #555;
    }

    /* Compact mode for small windows */
    body.compact .input-section {
      min-height: 60px;
      padding: 8px;
    }

    body.compact h1 {
      font-size: 14px;
      margin-bottom: 4px;
    }

    body.compact .input-label {
      font-size: 11px;
      margin-bottom: 4px;
    }

    body.compact button {
      padding: 6px 12px;
      font-size: 11px;
    }

    body.compact .examples {
      margin-top: 4px;
      padding-top: 4px;
    }

    body.compact .container {
      gap: 6px;
    }

    body.compact textarea {
      font-size: 11px;
    }

    /* Flexible button container */
    .button-container {
      flex-shrink: 0;
    }

    /* Ensure message doesn't take too much space */
    .message {
      flex-shrink: 0;
      max-height: 60px;
      overflow: auto;
    }

    /* Handle very wide windows */
    @media (min-width: 800px) {
      .container {
        max-width: 800px;
        margin: 0 auto;
      }
    }

    /* Handle very tall windows */
    @media (min-height: 900px) {
      .input-section {
        min-height: 200px;
      }
    }

    /* Window size buttons */
    .size-controls {
      display: flex;
      gap: 4px;
    }

    .size-btn {
      padding: 4px 8px;
      font-size: 10px;
      background: #f0f0f0;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: 600;
    }

    .size-btn:hover {
      background: #e0e0e0;
      transform: translateY(-1px);
    }

    .size-btn.active {
      background: #5E5CE6;
      color: white;
    }

    body.compact .size-controls {
      display: none;
    }

    /* Header layout */
    .plugin-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      flex-shrink: 0;
    }

    body.compact .plugin-header {
      margin-bottom: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="plugin-header">
      <h1 style="margin: 0;">üé® HTML/CSS to Design</h1>
      <div class="size-controls">
        <button class="size-btn" onclick="setWindowSize('small')" title="Small (400x500)">S</button>
        <button class="size-btn active" onclick="setWindowSize('medium')" title="Medium (500x700)">M</button>
        <button class="size-btn" onclick="setWindowSize('large')" title="Large (600x800)">L</button>
        <button class="size-btn" onclick="setWindowSize('xlarge')" title="Extra Large (700x900)">XL</button>
      </div>
    </div>
    
    <div class="input-section">
      <label class="input-label">
        <svg class="code-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="16 18 22 12 16 6"></polyline>
          <polyline points="8 6 2 12 8 18"></polyline>
        </svg>
        HTML Structure
      </label>
      <textarea id="html-input" placeholder="Enter your HTML code here...

Example:
<div class='card'>
  <h2>Hello World</h2>
  <p>This is a paragraph</p>
  <button>Click me</button>
</div>"></textarea>
    </div>

    <div class="input-section">
      <label class="input-label">
        <svg class="code-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path>
        </svg>
        CSS Styles
      </label>
      <textarea id="css-input" placeholder="Enter your CSS code here...

Example:
.card {
  background-color: #f0f0f0;
  padding: 20px;
  border-radius: 8px;
}

button {
  background-color: #007bff;
  color: white;
  padding: 10px 20px;
  border-radius: 4px;
}"></textarea>
    </div>

    <div class="button-container">
      <button class="view-btn" onclick="viewDesign()" title="Preview your design (Ctrl+P)">
        <span id="view-button-text">üëÅÔ∏è View Design</span>
      </button>
      <button class="generate-btn" onclick="generateDesign()" title="Generate in Figma (Ctrl+Enter)">
        <span id="button-text">üöÄ Generate in Figma</span>
      </button>
    </div>

    <div class="shortcuts-hint">
      <span class="shortcut-key">Ctrl+P</span> Preview ‚Ä¢ <span class="shortcut-key">Ctrl+Enter</span> Generate ‚Ä¢ <span style="opacity: 0.7;">Drag edges to resize</span>
    </div>

    <div class="loading" id="loading">
      <div class="spinner"></div>
    </div>

    <div class="message" id="message"></div>

    <div class="examples">
      <div class="example-title">Quick Examples:</div>
      <a class="example-link" onclick="loadExample('card')">Card Layout</a>
      <a class="example-link" onclick="loadExample('form')">Form</a>
      <a class="example-link" onclick="loadExample('hero')">Hero Section</a>
    </div>
  </div>

  <!-- Preview Modal -->
  <div class="preview-modal" id="previewModal">
    <div class="preview-header">
      <span class="preview-title">Preview Design</span>
      <button class="close-preview" onclick="closePreview()">Close Preview</button>
    </div>
    <div class="preview-content">
      <div class="preview-frame" id="previewFrame">
        <div class="preview-controls">
          <button class="preview-size-btn active" onclick="setPreviewSize('responsive')" data-size="responsive">Responsive</button>
          <button class="preview-size-btn" onclick="setPreviewSize('mobile')" data-size="mobile">Mobile</button>
          <button class="preview-size-btn" onclick="setPreviewSize('tablet')" data-size="tablet">Tablet</button>
          <button class="preview-size-btn" onclick="setPreviewSize('desktop')" data-size="desktop">Desktop</button>
        </div>
        <iframe id="preview-iframe"></iframe>
      </div>
    </div>
  </div>

  <script>
    // Set window size presets
    function setWindowSize(size) {
      let width, height;
      
      switch(size) {
        case 'small':
          width = 400;
          height = 500;
          break;
        case 'medium':
          width = 500;
          height = 700;
          break;
        case 'large':
          width = 600;
          height = 800;
          break;
        case 'xlarge':
          width = 700;
          height = 900;
          break;
        default:
          width = 500;
          height = 700;
      }
      
      // Send resize message to plugin
      parent.postMessage({
        pluginMessage: {
          type: 'resize-window',
          width: width,
          height: height
        }
      }, '*');
      
      // Update button styles to show active size
      const buttons = document.querySelectorAll('.size-btn');
      buttons.forEach(btn => {
        if (btn.getAttribute('onclick').includes(size)) {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });
    }
    
    // View design preview
    function viewDesign() {
      const html = document.getElementById('html-input').value;
      const css = document.getElementById('css-input').value;
      const message = document.getElementById('message');
      
      // Clear previous messages
      message.className = 'message';
      message.textContent = '';
      
      // Validate inputs
      if (!html.trim()) {
        message.className = 'message error';
        message.textContent = 'Please enter some HTML code to preview';
        return;
      }
      
      // Create the preview HTML
      const previewHTML = `
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
              padding: 20px;
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              min-height: 100vh;
              display: flex;
              align-items: center;
              justify-content: center;
            }
            
            @media (max-width: 768px) {
              body {
                padding: 10px;
              }
            }
            
            .preview-wrapper {
              background: white;
              border-radius: 12px;
              padding: 30px;
              box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
              width: 100%;
              max-width: 1200px;
              margin: 0 auto;
            }
            
            @media (max-width: 768px) {
              .preview-wrapper {
                padding: 20px;
                border-radius: 8px;
              }
            }
            
            ${css || ''}
          </style>
        </head>
        <body>
          <div class="preview-wrapper">
            ${html}
          </div>
        </body>
        </html>
      `;
      
      // Set the iframe content
      const iframe = document.getElementById('preview-iframe');
      const blob = new Blob([previewHTML], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      iframe.src = url;
      
      // Show the modal
      document.getElementById('previewModal').classList.add('active');
      
      // Clean up the URL after loading
      iframe.onload = function() {
        URL.revokeObjectURL(url);
      };
    }

    // Close preview modal
    function closePreview() {
      document.getElementById('previewModal').classList.remove('active');
      document.getElementById('preview-iframe').src = 'about:blank';
    }

    // Set preview size
    function setPreviewSize(size) {
      const frame = document.getElementById('previewFrame');
      const buttons = document.querySelectorAll('.preview-size-btn');
      
      // Update active button
      buttons.forEach(btn => {
        if (btn.getAttribute('data-size') === size) {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });
      
      // Set frame dimensions based on size
      switch(size) {
        case 'mobile':
          frame.style.maxWidth = '375px';
          frame.style.maxHeight = '667px';
          break;
        case 'tablet':
          frame.style.maxWidth = '768px';
          frame.style.maxHeight = '1024px';
          break;
        case 'desktop':
          frame.style.maxWidth = '1200px';
          frame.style.maxHeight = '800px';
          break;
        case 'responsive':
        default:
          frame.style.maxWidth = '90%';
          frame.style.maxHeight = '90%';
          break;
      }
    }

    // Generate design from HTML and CSS
    function generateDesign() {
      const html = document.getElementById('html-input').value;
      const css = document.getElementById('css-input').value;
      const message = document.getElementById('message');
      const loading = document.getElementById('loading');
      const button = document.querySelector('.generate-btn');
      
      // Clear previous messages
      message.className = 'message';
      message.textContent = '';
      
      // Validate inputs
      if (!html.trim()) {
        message.className = 'message error';
        message.textContent = 'Please enter some HTML code';
        return;
      }
      
      // Show loading
      loading.classList.add('active');
      button.disabled = true;
      
      // Send message to plugin
      parent.postMessage({
        pluginMessage: {
          type: 'generate-design',
          html: html,
          css: css
        }
      }, '*');
    }

    // Load example templates
    function loadExample(type) {
      const htmlInput = document.getElementById('html-input');
      const cssInput = document.getElementById('css-input');
      
      switch(type) {
        case 'card':
          htmlInput.value = `<div class="card">
  <img src="image.jpg" alt="Card Image">
  <div class="card-body">
    <h2 class="card-title">Card Title</h2>
    <p class="card-text">This is a simple card component with an image, title, and description.</p>
    <button class="card-button">Learn More</button>
  </div>
</div>`;
          
          cssInput.value = `.card {
  background-color: white;
  border-radius: 12px;
  padding: 0;
  width: 320px;
  border: 1px solid #e0e0e0;
}

.card-body {
  padding: 20px;
}

.card-title {
  color: #333;
  font-size: 24px;
  margin-bottom: 10px;
}

.card-text {
  color: #666;
  font-size: 14px;
  margin-bottom: 20px;
}

.card-button {
  background-color: #5E5CE6;
  color: white;
  padding: 10px 20px;
  border-radius: 6px;
  font-size: 14px;
}`;
          break;
          
        case 'form':
          htmlInput.value = `<div class="form-container">
  <h2>Contact Form</h2>
  <label for="name">Name</label>
  <input type="text" id="name" placeholder="Enter your name">
  
  <label for="email">Email</label>
  <input type="email" id="email" placeholder="Enter your email">
  
  <label for="message">Message</label>
  <input type="text" id="message" placeholder="Enter your message">
  
  <button type="submit">Submit</button>
</div>`;
          
          cssInput.value = `.form-container {
  background-color: #f9f9f9;
  padding: 30px;
  border-radius: 10px;
  width: 400px;
}

h2 {
  color: #333;
  margin-bottom: 20px;
}

label {
  color: #666;
  font-size: 14px;
  margin-bottom: 5px;
}

input {
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 5px;
  margin-bottom: 15px;
}

button {
  background-color: #28a745;
  color: white;
  padding: 12px 30px;
  border-radius: 5px;
  width: 100%;
  font-size: 16px;
}`;
          break;
          
        case 'hero':
          htmlInput.value = `<section class="hero">
  <div class="hero-content">
    <h1 class="hero-title">Welcome to Our Platform</h1>
    <p class="hero-description">Build amazing designs with our powerful tools and features.</p>
    <div class="hero-buttons">
      <button class="btn-primary">Get Started</button>
      <button class="btn-secondary">Learn More</button>
    </div>
  </div>
</section>`;
          
          cssInput.value = `.hero {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 60px 40px;
  border-radius: 16px;
  width: 600px;
}

.hero-content {
  text-align: center;
}

.hero-title {
  color: white;
  font-size: 36px;
  margin-bottom: 16px;
}

.hero-description {
  color: rgba(255, 255, 255, 0.9);
  font-size: 18px;
  margin-bottom: 32px;
}

.hero-buttons {
  display: flex;
  gap: 16px;
  justify-content: center;
}

.btn-primary {
  background-color: white;
  color: #667eea;
  padding: 12px 32px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
}

.btn-secondary {
  background-color: transparent;
  color: white;
  padding: 12px 32px;
  border-radius: 8px;
  border: 2px solid white;
  font-size: 16px;
  font-weight: 600;
}`;
          break;
      }
    }

    // Listen for messages from the plugin
    window.onmessage = (event) => {
      const msg = event.data.pluginMessage;
      const message = document.getElementById('message');
      const loading = document.getElementById('loading');
      const button = document.querySelector('.generate-btn');
      
      if (msg) {
        // Hide loading
        loading.classList.remove('active');
        button.disabled = false;
        
        if (msg.type === 'generation-complete') {
          message.className = 'message success';
          message.textContent = msg.message || 'Design generated successfully!';
        } else if (msg.type === 'generation-error') {
          message.className = 'message error';
          message.textContent = msg.message || 'Error generating design';
        }
      }
    };

    // Keyboard shortcuts
    document.querySelectorAll('textarea').forEach(textarea => {
      textarea.addEventListener('keydown', (e) => {
        // Ctrl/Cmd + Enter to generate design
        if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {
          e.preventDefault();
          generateDesign();
        }
        // Ctrl/Cmd + P to preview
        if (e.key === 'p' && (e.ctrlKey || e.metaKey)) {
          e.preventDefault();
          viewDesign();
        }
      });
    });

    // Close modal on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && document.getElementById('previewModal').classList.contains('active')) {
        closePreview();
      }
    });

    // Close modal when clicking outside the preview frame
    document.getElementById('previewModal').addEventListener('click', (e) => {
      if (e.target === document.getElementById('previewModal')) {
        closePreview();
      }
    });

    // Handle window resize
    let resizeTimeout;
    window.addEventListener('resize', () => {
      // Debounce resize event
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        // Adjust layout based on window size
        const width = window.innerWidth;
        const height = window.innerHeight;
        
        // Add or remove compact mode based on size
        if (height < 500) {
          document.body.classList.add('compact');
        } else {
          document.body.classList.remove('compact');
        }
        
        // Adjust text areas if window is very small
        if (height < 400) {
          document.querySelectorAll('textarea').forEach(textarea => {
            textarea.style.minHeight = '60px';
          });
        } else {
          document.querySelectorAll('textarea').forEach(textarea => {
            textarea.style.minHeight = '';
          });
        }
      }, 250);
    });

    // Initialize on load
    window.dispatchEvent(new Event('resize'));
    
    // Set initial window size to medium on load
    window.addEventListener('DOMContentLoaded', () => {
      // Mark medium size as active by default
      const mediumBtn = document.querySelector('.size-btn[onclick*="medium"]');
      if (mediumBtn) {
        mediumBtn.classList.add('active');
      }
    });
  </script>
  
  <!-- Resize Handle Indicator -->
  <div class="resize-handle" title="Drag to resize window"></div>
</body>
</html>
